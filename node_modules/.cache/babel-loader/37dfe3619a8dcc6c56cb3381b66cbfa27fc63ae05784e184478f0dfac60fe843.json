{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Altamir\\\\Desktop\\\\Projetos\\\\ReactJS\\\\lista-de-contatos\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport ListaContato from \"./listaContato\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  //states\n  const [contato, setContato] = useState({\n    nome: \"\",\n    telefone: \"\"\n  });\n  const [listaContato, setListaContato] = useState([]);\n  const nomeRef = useRef();\n  const telefoneRef = useRef();\n\n  //metodos\n  function definirNome(evento) {\n    setContato({\n      ...contato,\n      nome: evento.target.value\n    });\n  }\n  function definirTelefone(evento) {\n    setContato({\n      ...contato,\n      telefone: evento.target.value\n    });\n  }\n  function adicionarContato() {\n    if (contato.nome === \"\" || contato.telefone === \"\") return;\n\n    // contato duplicado\n    let duplicado = listaContato.find(ct => ct.nome === contato.nome && ct.telefone === contato.telefone);\n    if (typeof duplicado !== \"undefined\") {\n      telefoneRef.current.focus();\n      return;\n    }\n    setListaContato([...listaContato, contato]);\n\n    //limpar contato\n    setContato({\n      nome: \"\",\n      telefone: \"\"\n    });\n\n    //focus no input nome\n    nomeRef.current.focus();\n  }\n\n  // Utilizado o enter\n  function adicionarEnter(evento) {\n    if (evento.code === \"Enter\" || evento.code === \"NumpadEnter\") {\n      adicionarContato();\n    }\n  }\n\n  // carregar lista de contato localstorage\n  useEffect(() => {\n    if (localStorage.getItem(\"meus_contatos\") !== null) {\n      setListaContato(JSON.parse(localStorage.getItem(\"meus_contatos\")));\n    }\n  }, []);\n  // persistencia do state\n  useEffect(() => {\n    localStorage.setItem(\"meus_contatos\", JSON.stringify(listaContato));\n  }, [listaContato]);\n  // limpar contatos\n  function limparContatos() {\n    localStorage;\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Lista de contatos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"\",\n          children: \"Nome: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nomeRef,\n          type: \"text\",\n          onChange: definirNome,\n          value: contato.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"\",\n          children: \"Telefone: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 48\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: telefoneRef,\n          type: \"text\",\n          onChange: definirTelefone,\n          value: contato.telefone,\n          onKeyUp: adicionarEnter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: adicionarContato,\n        children: \"Adicionar contato\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: limparContatos,\n        children: \"Limpar contatos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ListaContato, {\n          listaContato: listaContato\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"5gI2BjEcuzydF/e2HbDyUR2XmeM=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ListaContato","App","contato","setContato","nome","telefone","listaContato","setListaContato","nomeRef","telefoneRef","definirNome","evento","target","value","definirTelefone","adicionarContato","duplicado","find","ct","current","focus","adicionarEnter","code","localStorage","getItem","JSON","parse","setItem","stringify","limparContatos"],"sources":["C:/Users/Altamir/Desktop/Projetos/ReactJS/lista-de-contatos/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport ListaContato from \"./listaContato\";\r\n\r\nexport default function App() {\r\n  //states\r\n  const [contato, setContato] = useState({ nome: \"\", telefone: \"\" });\r\n  const [listaContato, setListaContato] = useState([]);\r\n  const nomeRef = useRef();\r\n  const telefoneRef = useRef();\r\n\r\n  //metodos\r\n  function definirNome(evento) {\r\n    setContato({ ...contato, nome: evento.target.value });\r\n  }\r\n  function definirTelefone(evento) {\r\n    setContato({ ...contato, telefone: evento.target.value });\r\n  }\r\n  function adicionarContato() {\r\n    if (contato.nome === \"\" || contato.telefone === \"\") return;\r\n\r\n    // contato duplicado\r\n    let duplicado = listaContato.find(\r\n      (ct) => ct.nome === contato.nome && ct.telefone === contato.telefone\r\n    );\r\n    if (typeof duplicado !== \"undefined\") {\r\n      telefoneRef.current.focus();\r\n      return;\r\n    }\r\n    setListaContato([...listaContato, contato]);\r\n\r\n    //limpar contato\r\n    setContato({ nome: \"\", telefone: \"\" });\r\n\r\n    //focus no input nome\r\n    nomeRef.current.focus();\r\n  }\r\n\r\n  // Utilizado o enter\r\n  function adicionarEnter(evento) {\r\n    if (evento.code === \"Enter\" || evento.code === \"NumpadEnter\") {\r\n      adicionarContato();\r\n    }\r\n  }\r\n\r\n  // carregar lista de contato localstorage\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"meus_contatos\") !== null) {\r\n      setListaContato(JSON.parse(localStorage.getItem(\"meus_contatos\")));\r\n    }\r\n  }, []);\r\n  // persistencia do state\r\n  useEffect(() => {\r\n    localStorage.setItem(\"meus_contatos\", JSON.stringify(listaContato));\r\n  }, [listaContato]);\r\n  // limpar contatos\r\n  function limparContatos() {\r\n    localStorage\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>Lista de contatos</h1>\r\n      <hr />\r\n      <div>\r\n        <div>\r\n          <label htmlFor=\"\">Nome: </label> <br />\r\n          <input\r\n            ref={nomeRef}\r\n            type=\"text\"\r\n            onChange={definirNome}\r\n            value={contato.nome}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"\">Telefone: </label> <br />\r\n          <input\r\n            ref={telefoneRef}\r\n            type=\"text\"\r\n            onChange={definirTelefone}\r\n            value={contato.telefone}\r\n            onKeyUp={adicionarEnter}\r\n          />\r\n        </div>\r\n        <button onClick={adicionarContato}>Adicionar contato</button>\r\n        <button onClick={limparContatos}>Limpar contatos</button>\r\n        <div>\r\n          <ListaContato listaContato={listaContato} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}